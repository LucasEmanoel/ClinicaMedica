<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	template="/resources/templates/templateUsers.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="css">
		<h:outputStylesheet library="css" name="cssTelasUsuarios.css" />
	</ui:define>

	<ui:define name="top">
		<h:form>

		</h:form>
	</ui:define>

	<ui:define name="content">
		<h:form>
			<div class="links-top">
				<p:panel class="panel">
					<p:menubar model="#{menuBean.menuModel}"/>
				</p:panel>
					
			</div>
			<p:dialog styleClass="dialog" width="525" height="150"
				draggable="false" header="Clinicas: " widgetVar="marcar"
				modal="false" resizable="false" style="z-index:99;">
				<p:dataTable id="table-clinicas" var="cli"
					value="#{clienteBean.clinicas}">

					<p:column headerText="Nome">
						<h:outputText value="#{cli.nome}" />
					</p:column>

					<p:column headerText="Endereco-CEP">
						<h:outputText value="#{cli.endereco.cep}" />
					</p:column>

					<p:column style="width:85px">
						<p:commandButton oncomplete="PF('detalhesDialog').show()" value="Marcar">
							<f:setPropertyActionListener value="" target=""></f:setPropertyActionListener>
						</p:commandButton>
					</p:column>

				</p:dataTable>
			</p:dialog>
			
			<p:dialog header="Clinica Detalhes" widgetVar="detalhesDialog"
				resizable="false" draggable="true" showEffect="fade"
				hideEffect="fade" modal="true">
				<h:panelGrid columns="2">
					
					<h:inputText>cliente</h:inputText><!-- Pegar o user que ta na sessao nao sei fazer ainda -->
					
					<h:selectOneMenu value="#{clienteBean.con.medico}" converter="pessoaConverter" id="somMedico">
							<f:selectItems value="#{clienteBean.medicos}" var="c" itemLabel="#{c.nome}" itemValue="#{c}" />
					</h:selectOneMenu>
					
					<h:inputText id="descricao" value="#{clienteBean.con.descricao}" placeholder="DescriÃ§Ã£o" required="true">
						
					</h:inputText>
					
					<p:inputText placeholder="Data">
						<f:validateRegex pattern="^\d{1,2}\/\d{1,2}\/\d{4}$" />
						<f:convertDateTime pattern="MM/dd/yyyy" />
					</p:inputText>
				
				</h:panelGrid>				
			</p:dialog>
		</h:form>
	</ui:define>

</ui:composition>